# Sistema FIC

![Status](https://img.shields.io/badge/status-em%20desenvolvimento-yellow)

> O sistema tem como objetivo gerenciar incri√ß√µes em cursos ofertados por uma institui√ß√£o.

---

### üìö √çndice

* [Tecnologias Utilizadas](#-tecnologias-utilizadas)
* [Pr√©-requisitos](#-pr√©-requisitos)
* [üöÄ Come√ßando: Setup Inicial](#-come√ßando-setup-inicial)
* [üíª Fluxo de Trabalho no Dia a Dia](#-fluxo-de-trabalho-no-dia-a-dia)
* [üõ†Ô∏è Comandos √öteis](#Ô∏è-comandos-√∫teis)

---

### ‚ú® Tecnologias Utilizadas

* **Backend:** Python, Django, Django Rest Framework
* **Banco de Dados:** PostgreSQL
* **Ambiente:** Docker, Docker Compose

---

### ‚úÖ Pr√©-requisitos

Antes de come√ßar, garanta que voc√™ tenha as seguintes ferramentas instaladas em sua m√°quina:
* **Visual Studio Code**
* **Docker** e **Docker Compose**

---

### üöÄ Come√ßando: Setup Inicial

Siga estes passos **apenas na primeira vez** que for configurar o projeto. O objetivo √© ter o ambiente completamente funcional em poucos minutos.

#### Passo 1: Clonar o Reposit√≥rio
```bash
git clone git@github.com:kaellasales/SistemaFIC.git
cd sistemaFIC
```

#### Passo 2: Configurar Vari√°veis de Ambiente (`.env`)
As senhas e chaves do projeto s√£o gerenciadas localmente e nunca devem ser enviadas para o Git.

a. Crie seu arquivo de ambiente local a partir do exemplo fornecido:
```bash
cp .env.example .env
```

b. **Abra o arquivo `.env`** e configure as vari√°veis. Preencha principalmente as seguintes:
```env
# Chave secreta do Django (pode gerar uma nova se quiser)
SECRET_KEY=sua_chave_secreta_aqui

# Configura√ß√µes do Banco de Dados (pode manter o padr√£o para dev)
POSTGRES_DB=seu_db_dev
POSTGRES_USER=seu_user_dev
POSTGRES_PASSWORD=sua_senha_super_secreta

# Credenciais para o Superusu√°rio que ser√° criado automaticamente
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_EMAIL=admin@example.com
DJANGO_SUPERUSER_PASSWORD=admin
```

#### Passo 3: Construir e Iniciar o Ambiente Docker
Este √© o comando principal. Ele vai construir a imagem da aplica√ß√£o, baixar o Postgres e iniciar tudo de forma orquestrada.

```bash
docker-compose up --build
```

**O que acontece magicamente aqui?**
Ao executar este comando, o script `entrypoint.sh` dentro do cont√™iner ser√° acionado **automaticamente** e far√° o seguinte por voc√™:
1.  Aguardar√° o banco de dados ficar pronto.
2.  Rodar√° o comando `python manage.py migrate`.
3.  Rodar√° o comando `python manage.py collectstatic`.
4.  Criar√° o superusu√°rio com as credenciais do seu `.env`.
5.  Iniciar√° o servidor de desenvolvimento do Django.

Voc√™ ver√° os logs de todo esse processo no seu terminal.

#### Passo 4: Verificar a Instala√ß√£o
Ap√≥s o passo anterior ser conclu√≠do, abra seu navegador e acesse:

* **Aplica√ß√£o:** [`http://localhost:8080/`](http://localhost:8080/)
* **Admin:** [`http://localhost:8080/admin/`](http://localhost:8080/admin/)

Use as credenciais `DJANGO_SUPERUSER_USERNAME` e `DJANGO_SUPERUSER_PASSWORD` do seu arquivo `.env` para logar no Admin.

**üéâ Parab√©ns, o ambiente est√° 100% configurado!**

---

### üíª Fluxo de Trabalho no Dia a Dia

Depois da configura√ß√£o inicial, sua rotina ser√° muito mais simples.

* **Para iniciar o projeto:**
  ```bash
  docker-compose up
  ```
* **Para parar o projeto:**
  Pressione `Ctrl + C` no terminal e depois, para garantir que os cont√™ineres sejam removidos, rode:
  ```bash
  docker-compose down
  ```

#### O Ciclo de Desenvolvimento (Quando Alterar `models.py`)
O comando `makemigrations` **N√ÉO** √© automatizado, pois ele √© uma a√ß√£o que voc√™, como desenvolvedor, deve tomar conscientemente.

1.  Altere um arquivo `api/models.py`.
2.  **Manualmente**, crie o novo arquivo de migra√ß√£o rodando:
    ```bash
    docker-compose exec -it fic bash
    ```
    ```bash
    python manage.py makemigrations
    ```

3.  **Commite o novo arquivo de migra√ß√£o** gerado na pasta `migrations/` para o Git.
4.  O `migrate` ser√° aplicado automaticamente na pr√≥xima vez que voc√™ rodar `docker-compose up`.

---

### üõ†Ô∏è Comandos √öteis

Todos os comandos devem ser rodados na raiz do projeto.

* **Executar um comando `manage.py` qualquer:**
  Use o prefixo `docker-compose exec -it fic bash`.
  ```bash
  # Exemplo: Abrir o shell do Django
  docker-compose exec -it fic bash

  # Exemplo: rodar migrations(com o shell aberto, OK?)
  python manage.py makemigrations
  ```

* **Acessar o banco de dados diretamente (psql):**
  ```bash
  docker-compose exec db psql -U $POSTGRES_USER -d $POSTGRES_DB
  ```

* **Resetar completamente o banco de dados:**
  **CUIDADO:** Isso apagar√° todos os dados do seu banco de dados local.
  ```bash
  docker-compose down -v
  ```

* **Ver os logs da aplica√ß√£o (se estiver rodando em background):**
  ```bash
  docker-compose logs -f web
  ```